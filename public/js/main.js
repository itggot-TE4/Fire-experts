QS(document, '#for').addEventListener('submit', async (e) => {
  e.preventDefault()
  const input = e.target.querySelector('input').value
  const data = await getRepos(input)
  if (data.message === 'Not Found') {
    alert('No user with that name boy!')
    return null
  } else if (typeof data === 'string') {
    alert('Connection to server was terminated.')
    return null
  }
  const parseRepo = parseRepoData(data)
  const repoCards = generateRepoCard(parseRepo)
  resetWrapper()
  appendToWrapper(repoCards)
})

function QS (element, target) {
  return element.querySelector(target)
}

// function QSA (element, target) {
//   return element.querySelectorAll(target)
// }

function cloneTemplate (templateID, templateContent) {
  const template = QS(document, templateID)
  const clone = template.content.cloneNode(true)
  return QS(clone, templateContent)
}

function resetWrapper () { QS(document, '.wrapper').innerHTML = '' }

function appendToWrapper (listOfElements) {
  const wrapper = QS(document, '.wrapper')
  listOfElements.forEach(element => { wrapper.appendChild(element) })
}

function parseRepoData (repoData) {
  const parsedData = []
  repoData.forEach(repo => {
    const parsedRepo = {
      name: `${repo.name}`,
      fullName: `${repo.full_name}`,
      GHLink: `${repo.html_url}`,
      numberOfForks: `${repo.forks}`
    }
    parsedData.push(parsedRepo)
  })
  return parsedData
}

function generateRepoCards (repoList) {
  const cardTemplate = cloneTemplate('#repoCardTemplate', '.card')
  const cardList = []
  repoList.forEach(repo => {
    const card = cardTemplate.cloneNode(true)
    const repoForks = QS(card, '.repoForks')
    repoForks.setAttribute('data-repo-full-name', repo.fullName)
    repoForks.addEventListener('click', showForks)
    QS(card, '.repoName').innerText = repo.name
    QS(card, '.repoGHLink').href = repo.GHLink
    QS(card, '.repoNumberOfForks').textContent = repo.numberOfForks
    cardList.push(card)
  })
  return cardList
}

async function showForks (e) {
  const fullName = e.target.getAttribute('data-repo-full-name')
  const data = await getForks(fullName)
  const cards = generateForkCards(data)
  resetWrapper()
  appendToWrapper(cards)
}

async function fetchJSON (url) {
  try {
    const temp = await fetch(url)
    const response = await temp.json()
    if (temp.status !== 200) {
      const message = `The server responded with a status code of ${temp.status}`
      console.log(message)
      return message
    }
    return response
  } catch (error) {
    const message = `The following error message was returned: ${error}`
    console.log(message)
    return message
  }
}

async function getRepos (userName) { return await fetchJSON(`/api/github/${userName}/repos`) }

async function getForks (userRepo) { return await fetchJSON(`/api/github/${userRepo}/forks`) }
const temp = JSON.parse("[{\"id\":215999269,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMTU5OTkyNjk=\",\"name\":\"smallest_of_two\",\"full_name\":\"TE4-oskar-pilborg/smallest_of_two\",\"private\":false,\"owner\":{\"login\":\"TE4-oskar-pilborg\",\"id\":54275481,\"node_id\":\"MDQ6VXNlcjU0Mjc1NDgx\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/54275481?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/TE4-oskar-pilborg\",\"html_url\":\"https://github.com/TE4-oskar-pilborg\",\"followers_url\":\"https://api.github.com/users/TE4-oskar-pilborg/followers\",\"following_url\":\"https://api.github.com/users/TE4-oskar-pilborg/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/TE4-oskar-pilborg/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/TE4-oskar-pilborg/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/TE4-oskar-pilborg/subscriptions\",\"organizations_url\":\"https://api.github.com/users/TE4-oskar-pilborg/orgs\",\"repos_url\":\"https://api.github.com/users/TE4-oskar-pilborg/repos\",\"events_url\":\"https://api.github.com/users/TE4-oskar-pilborg/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/TE4-oskar-pilborg/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/TE4-oskar-pilborg/smallest_of_two\",\"description\":\"En uppgift i Programmering x\",\"fork\":true,\"url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two\",\"forks_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/forks\",\"keys_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/teams\",\"hooks_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/hooks\",\"issue_events_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/events\",\"assignees_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/tags\",\"blobs_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/languages\",\"stargazers_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/stargazers\",\"contributors_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/contributors\",\"subscribers_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/subscribers\",\"subscription_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/subscription\",\"commits_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/merges\",\"archive_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/downloads\",\"issues_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/TE4-oskar-pilborg/smallest_of_two/deployments\",\"created_at\":\"2019-10-18T10:26:52Z\",\"updated_at\":\"2019-10-18T11:40:14Z\",\"pushed_at\":\"2019-10-18T11:40:12Z\",\"git_url\":\"git://github.com/TE4-oskar-pilborg/smallest_of_two.git\",\"ssh_url\":\"git@github.com:TE4-oskar-pilborg/smallest_of_two.git\",\"clone_url\":\"https://github.com/TE4-oskar-pilborg/smallest_of_two.git\",\"svn_url\":\"https://github.com/TE4-oskar-pilborg/smallest_of_two\",\"homepage\":null,\"size\":4,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"JavaScript\",\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":1,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"forks\":1,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":215966178,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMTU5NjYxNzg=\",\"name\":\"smallest_of_two\",\"full_name\":\"TE4-Mattis-Abrahamsson/smallest_of_two\",\"private\":false,\"owner\":{\"login\":\"TE4-Mattis-Abrahamsson\",\"id\":55836209,\"node_id\":\"MDQ6VXNlcjU1ODM2MjA5\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/55836209?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson\",\"html_url\":\"https://github.com/TE4-Mattis-Abrahamsson\",\"followers_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/followers\",\"following_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/subscriptions\",\"organizations_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/orgs\",\"repos_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/repos\",\"events_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/TE4-Mattis-Abrahamsson/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/TE4-Mattis-Abrahamsson/smallest_of_two\",\"description\":\"En uppgift i Programmering x\",\"fork\":true,\"url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two\",\"forks_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/forks\",\"keys_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/teams\",\"hooks_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/hooks\",\"issue_events_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/events\",\"assignees_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/tags\",\"blobs_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/languages\",\"stargazers_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/stargazers\",\"contributors_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/contributors\",\"subscribers_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/subscribers\",\"subscription_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/subscription\",\"commits_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/merges\",\"archive_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/downloads\",\"issues_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/TE4-Mattis-Abrahamsson/smallest_of_two/deployments\",\"created_at\":\"2019-10-18T07:29:43Z\",\"updated_at\":\"2019-10-18T07:31:00Z\",\"pushed_at\":\"2019-10-18T07:30:58Z\",\"git_url\":\"git://github.com/TE4-Mattis-Abrahamsson/smallest_of_two.git\",\"ssh_url\":\"git@github.com:TE4-Mattis-Abrahamsson/smallest_of_two.git\",\"clone_url\":\"https://github.com/TE4-Mattis-Abrahamsson/smallest_of_two.git\",\"svn_url\":\"https://github.com/TE4-Mattis-Abrahamsson/smallest_of_two\",\"homepage\":null,\"size\":2,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"JavaScript\",\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":215279730,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMTUyNzk3MzA=\",\"name\":\"smallest_of_two\",\"full_name\":\"TE4-william-bruun/smallest_of_two\",\"private\":false,\"owner\":{\"login\":\"TE4-william-bruun\",\"id\":55836687,\"node_id\":\"MDQ6VXNlcjU1ODM2Njg3\",\"avatar_url\":\"https://avatars3.githubusercontent.com/u/55836687?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/TE4-william-bruun\",\"html_url\":\"https://github.com/TE4-william-bruun\",\"followers_url\":\"https://api.github.com/users/TE4-william-bruun/followers\",\"following_url\":\"https://api.github.com/users/TE4-william-bruun/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/TE4-william-bruun/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/TE4-william-bruun/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/TE4-william-bruun/subscriptions\",\"organizations_url\":\"https://api.github.com/users/TE4-william-bruun/orgs\",\"repos_url\":\"https://api.github.com/users/TE4-william-bruun/repos\",\"events_url\":\"https://api.github.com/users/TE4-william-bruun/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/TE4-william-bruun/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/TE4-william-bruun/smallest_of_two\",\"description\":\"En uppgift i Programmering x\",\"fork\":true,\"url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two\",\"forks_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/forks\",\"keys_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/teams\",\"hooks_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/hooks\",\"issue_events_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/events\",\"assignees_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/tags\",\"blobs_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/languages\",\"stargazers_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/stargazers\",\"contributors_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/contributors\",\"subscribers_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/subscribers\",\"subscription_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/subscription\",\"commits_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/merges\",\"archive_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/downloads\",\"issues_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/TE4-william-bruun/smallest_of_two/deployments\",\"created_at\":\"2019-10-15T11:17:38Z\",\"updated_at\":\"2019-10-17T08:46:03Z\",\"pushed_at\":\"2019-10-17T08:46:01Z\",\"git_url\":\"git://github.com/TE4-william-bruun/smallest_of_two.git\",\"ssh_url\":\"git@github.com:TE4-william-bruun/smallest_of_two.git\",\"clone_url\":\"https://github.com/TE4-william-bruun/smallest_of_two.git\",\"svn_url\":\"https://github.com/TE4-william-bruun/smallest_of_two\",\"homepage\":null,\"size\":5,\"stargazers_count\":0,\"watchers_count\":0,\"language\":null,\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":214414700,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMTQ0MTQ3MDA=\",\"name\":\"smallest_of_two\",\"full_name\":\"itggot-TE4/smallest_of_two\",\"private\":false,\"owner\":{\"login\":\"itggot-TE4\",\"id\":55485106,\"node_id\":\"MDEyOk9yZ2FuaXphdGlvbjU1NDg1MTA2\",\"avatar_url\":\"https://avatars0.githubusercontent.com/u/55485106?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/itggot-TE4\",\"html_url\":\"https://github.com/itggot-TE4\",\"followers_url\":\"https://api.github.com/users/itggot-TE4/followers\",\"following_url\":\"https://api.github.com/users/itggot-TE4/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/itggot-TE4/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/itggot-TE4/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/itggot-TE4/subscriptions\",\"organizations_url\":\"https://api.github.com/users/itggot-TE4/orgs\",\"repos_url\":\"https://api.github.com/users/itggot-TE4/repos\",\"events_url\":\"https://api.github.com/users/itggot-TE4/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/itggot-TE4/received_events\",\"type\":\"Organization\",\"site_admin\":false},\"html_url\":\"https://github.com/itggot-TE4/smallest_of_two\",\"description\":\"En uppgift i Programmering x\",\"fork\":true,\"url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two\",\"forks_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/forks\",\"keys_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/teams\",\"hooks_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/hooks\",\"issue_events_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/events\",\"assignees_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/tags\",\"blobs_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/languages\",\"stargazers_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/stargazers\",\"contributors_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/contributors\",\"subscribers_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/subscribers\",\"subscription_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/subscription\",\"commits_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/merges\",\"archive_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/downloads\",\"issues_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/itggot-TE4/smallest_of_two/deployments\",\"created_at\":\"2019-10-11T11:05:33Z\",\"updated_at\":\"2019-10-17T08:47:53Z\",\"pushed_at\":\"2019-10-17T08:47:51Z\",\"git_url\":\"git://github.com/itggot-TE4/smallest_of_two.git\",\"ssh_url\":\"git@github.com:itggot-TE4/smallest_of_two.git\",\"clone_url\":\"https://github.com/itggot-TE4/smallest_of_two.git\",\"svn_url\":\"https://github.com/itggot-TE4/smallest_of_two\",\"homepage\":null,\"size\":5,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"JavaScript\",\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"},{\"id\":213905867,\"node_id\":\"MDEwOlJlcG9zaXRvcnkyMTM5MDU4Njc=\",\"name\":\"smallest_of_two\",\"full_name\":\"itggot-daniel-berg/smallest_of_two\",\"private\":false,\"owner\":{\"login\":\"itggot-daniel-berg\",\"id\":1773878,\"node_id\":\"MDQ6VXNlcjE3NzM4Nzg=\",\"avatar_url\":\"https://avatars2.githubusercontent.com/u/1773878?v=4\",\"gravatar_id\":\"\",\"url\":\"https://api.github.com/users/itggot-daniel-berg\",\"html_url\":\"https://github.com/itggot-daniel-berg\",\"followers_url\":\"https://api.github.com/users/itggot-daniel-berg/followers\",\"following_url\":\"https://api.github.com/users/itggot-daniel-berg/following{/other_user}\",\"gists_url\":\"https://api.github.com/users/itggot-daniel-berg/gists{/gist_id}\",\"starred_url\":\"https://api.github.com/users/itggot-daniel-berg/starred{/owner}{/repo}\",\"subscriptions_url\":\"https://api.github.com/users/itggot-daniel-berg/subscriptions\",\"organizations_url\":\"https://api.github.com/users/itggot-daniel-berg/orgs\",\"repos_url\":\"https://api.github.com/users/itggot-daniel-berg/repos\",\"events_url\":\"https://api.github.com/users/itggot-daniel-berg/events{/privacy}\",\"received_events_url\":\"https://api.github.com/users/itggot-daniel-berg/received_events\",\"type\":\"User\",\"site_admin\":false},\"html_url\":\"https://github.com/itggot-daniel-berg/smallest_of_two\",\"description\":\"En uppgift i Programmering x\",\"fork\":true,\"url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two\",\"forks_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/forks\",\"keys_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/keys{/key_id}\",\"collaborators_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/collaborators{/collaborator}\",\"teams_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/teams\",\"hooks_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/hooks\",\"issue_events_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/issues/events{/number}\",\"events_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/events\",\"assignees_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/assignees{/user}\",\"branches_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/branches{/branch}\",\"tags_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/tags\",\"blobs_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/git/blobs{/sha}\",\"git_tags_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/git/tags{/sha}\",\"git_refs_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/git/refs{/sha}\",\"trees_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/git/trees{/sha}\",\"statuses_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/statuses/{sha}\",\"languages_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/languages\",\"stargazers_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/stargazers\",\"contributors_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/contributors\",\"subscribers_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/subscribers\",\"subscription_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/subscription\",\"commits_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/commits{/sha}\",\"git_commits_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/git/commits{/sha}\",\"comments_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/comments{/number}\",\"issue_comment_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/issues/comments{/number}\",\"contents_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/contents/{+path}\",\"compare_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/compare/{base}...{head}\",\"merges_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/merges\",\"archive_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/{archive_format}{/ref}\",\"downloads_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/downloads\",\"issues_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/issues{/number}\",\"pulls_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/pulls{/number}\",\"milestones_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/milestones{/number}\",\"notifications_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/notifications{?since,all,participating}\",\"labels_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/labels{/name}\",\"releases_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/releases{/id}\",\"deployments_url\":\"https://api.github.com/repos/itggot-daniel-berg/smallest_of_two/deployments\",\"created_at\":\"2019-10-09T11:57:00Z\",\"updated_at\":\"2019-10-17T08:48:39Z\",\"pushed_at\":\"2019-10-17T08:48:37Z\",\"git_url\":\"git://github.com/itggot-daniel-berg/smallest_of_two.git\",\"ssh_url\":\"git@github.com:itggot-daniel-berg/smallest_of_two.git\",\"clone_url\":\"https://github.com/itggot-daniel-berg/smallest_of_two.git\",\"svn_url\":\"https://github.com/itggot-daniel-berg/smallest_of_two\",\"homepage\":null,\"size\":3,\"stargazers_count\":0,\"watchers_count\":0,\"language\":\"JavaScript\",\"has_issues\":false,\"has_projects\":true,\"has_downloads\":true,\"has_wiki\":true,\"has_pages\":false,\"forks_count\":0,\"mirror_url\":null,\"archived\":false,\"disabled\":false,\"open_issues_count\":0,\"license\":null,\"forks\":0,\"open_issues\":0,\"watchers\":0,\"default_branch\":\"master\"}]")

function generateForkCards (forkList) {

  const cardTemplate = cloneTemplate('#forkCardTemplate', '.card')
  
  let cardList = []
  forkList.forEach(fork => {
    let card = cardTemplate.cloneNode(true)
  
  for (let i = 0; i < 3; i++) {
    let testResults = document.createElement('p')
    testResults.textContent = `fake test result number ${i} :shipit:`
    QS(card,'.testResults').appendChild(testResults)
  }

    QS(card,'h3').textContent = fork.full_name
    QS(card,'code').textContent = 'code will go here'
    QS(card,'.forkGHLink').href = fork.html_url

    cardList.push(card)
  })

  return cardList

}

function getCodeSnippet (fork) {

  

}

appendToWrapper(generateForkCards(temp))

document.addEventListener('DOMContentLoaded', (event) => {
  document.querySelectorAll('pre code').forEach((block) => {
    hljs.highlightBlock(block);
  })
})
